# Angular AI Assistant Instructions

This is an Angular 20.2 application for Heimdal Portal, a LARP (Live Action Role Playing) hosting platform.

## Project Overview
Heimdal Portal provides free hosting for LARP communities worldwide. The application allows users to:
- Browse current and previous LARP projects
- Learn about the hosting service
- Contact for hosting requests
- Switch between English and Danish languages
- Toggle between dark and light themes

## Architecture

### Framework
- Angular 20.2 with standalone components
- TypeScript throughout
- Tailwind CSS v3 for styling
- RxJS for reactive programming

### Project Structure
```
src/
├── app/
│   ├── components/          # Reusable UI components
│   │   ├── navigation/      # Main navigation with mobile menu
│   │   └── footer/          # Site footer
│   ├── pages/              # Route components
│   │   ├── home/           # Landing page
│   │   ├── current-projects/
│   │   ├── previous-projects/
│   │   ├── about/
│   │   ├── contact/
│   │   └── not-found/
│   ├── services/           # Business logic services
│   │   ├── theme.service.ts    # Dark/light theme management
│   │   └── locale.service.ts   # Internationalization
│   ├── models/             # TypeScript interfaces
│   ├── app.config.ts       # Application configuration
│   ├── app.routes.ts       # Routing configuration
│   └── app.ts             # Root component
├── styles.css              # Global styles with Tailwind
└── index.html             # HTML shell
```

### Key Features

#### Internationalization
- Custom locale service with English and Danish support
- Reactive language switching using Angular signals
- Translations stored in TypeScript objects for type safety

#### Theme System
- Dark/light mode toggle with system preference detection
- CSS custom properties for theme values
- Persistent storage using localStorage

#### Styling
- Tailwind CSS with custom design system
- Nordic/LARP themed color palette
- Responsive design with mobile-first approach
- Custom CSS properties for theme switching

## Development Guidelines

### Angular Best Practices
1. **Use Standalone Components**: All components should be standalone
2. **Reactive Programming**: Use signals for state management
3. **Dependency Injection**: Use `inject()` function in components
4. **Type Safety**: Always use TypeScript types and interfaces
5. **Lazy Loading**: Use dynamic imports for route components

### Component Structure
```typescript
import { Component, inject, signal } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-example',
  imports: [CommonModule],
  template: `
    <!-- Inline templates for simple components -->
  `,
  styleUrl: './example.component.css'
})
export class ExampleComponent {
  // Use inject() function for dependencies
  private service = inject(ExampleService);
  
  // Use signals for reactive state
  state = signal<StateType>(initialValue);
}
```

### Styling Guidelines
1. **Use Tailwind Classes**: Prefer utility classes over custom CSS
2. **Theme-Aware Colors**: Use CSS custom properties for colors
3. **Responsive Design**: Mobile-first with breakpoint prefixes
4. **Accessibility**: Include proper ARIA labels and semantic HTML

### Translation Keys
- Nested object structure: `'category.subcategory.key'`
- Consistent naming: use snake_case for keys
- Always provide both English and Danish translations

## Service Patterns

### Theme Service
```typescript
// Theme switching with signals
theme = signal<Theme>('dark');
toggleTheme() {
  this.theme.update(current => current === 'light' ? 'dark' : 'light');
}
```

### Locale Service
```typescript
// Language switching with translation lookup
currentLocale = signal<Locale>('en');
translate(key: string): string {
  // Nested key lookup with fallback
}
```

## Build and Deployment

### Development
- `npm run dev` - Start development server
- `npm run build` - Production build
- `npm run lint` - ESLint checking

### Build Output
- Production builds create standalone static files
- Output in `dist/larps-angular/` directory
- Can be served from any static web server

### Browser Support
- Modern browsers with ES2022 support
- Progressive enhancement for older browsers

## Code Quality

### ESLint Rules
- Angular-specific linting with @angular-eslint
- TypeScript strict mode enabled
- No explicit `any` types allowed

### Testing
- Karma + Jasmine setup (configured but tests not implemented)
- Focus on component integration testing

## Performance Considerations
- Lazy-loaded routes for code splitting
- Optimized bundle sizes with tree shaking
- Efficient change detection with OnPush strategy where appropriate

## Security
- Content Security Policy compatible
- No inline scripts or styles
- Sanitized user inputs (when implemented)

When working with this codebase:
1. Follow Angular 20.2 best practices and new features
2. Maintain type safety throughout
3. Use the established patterns for services and components
4. Test all functionality in both languages and themes
5. Ensure mobile responsiveness
6. Keep bundle size optimized